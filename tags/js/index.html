<!DOCTYPE html><html><head><meta charset="utf-8" /><meta content="width=device-width, initial-scale=1.0" name="viewport" /><title> â€” Today Icelab Learnt</title><link href="/assets/public.css" rel="stylesheet" type="text/css" /><script src="/assets/public.js" type="text/javascript"></script></head><body><aside class="sidebar" id="sidebar"><a class="close-sidebar" href="#">Hide topics &rsaquo;</a><div class="sidebar-topic"><a href="/tags/react">react</a><span class="topic-count"> (<i>1</i>)</span></div><div class="sidebar-topic"><a href="/tags/js">js</a><span class="topic-count"> (<i>1</i>)</span></div><div class="sidebar-topic"><a href="/tags/ruby">ruby</a><span class="topic-count"> (<i>1</i>)</span></div><div class="sidebar-topic"><a href="/tags/aws">aws</a><span class="topic-count"> (<i>1</i>)</span></div><div class="sidebar-topic"><a href="/tags/accessibility">accessibility</a><span class="topic-count"> (<i>1</i>)</span></div><div class="sidebar-topic"><a href="/tags/social">social</a><span class="topic-count"> (<i>1</i>)</span></div><div class="sidebar-topic"><a href="/tags/performance">performance</a><span class="topic-count"> (<i>1</i>)</span></div><div class="sidebar-topic"><a href="/tags/git">git</a><span class="topic-count"> (<i>1</i>)</span></div><div class="sidebar-topic"><a href="/tags/css">css</a><span class="topic-count"> (<i>1</i>)</span></div><div class="sidebar-topic"><a href="/tags/rails">rails</a><span class="topic-count"> (<i>1</i>)</span></div><div class="sidebar-topic"><a href="/tags/slim">slim</a><span class="topic-count"> (<i>1</i>)</span></div><div class="sidebar-topic"><a href="/tags/seo">seo</a><span class="topic-count"> (<i>1</i>)</span></div><div class="sidebar-topic"><a href="/tags/postgres">postgres</a><span class="topic-count"> (<i>1</i>)</span></div><div class="sidebar-topic"><a href="/tags/debugging">debugging</a><span class="topic-count"> (<i>1</i>)</span></div><div class="sidebar-topic"><a href="/tags/testing">testing</a><span class="topic-count"> (<i>1</i>)</span></div><div class="sidebar-topic"><a href="/tags/processing">processing</a><span class="topic-count"> (<i>1</i>)</span></div></aside><div class="header"><a class="header__logo" href="http://www.icelab.com.au"></a><a href="/" class="header__til-text">Today Icelab Learnt</a><a class="header__view-topics open-sidebar" href="#sidebar"> &lsaquo; View topics</a></div><div class="container"><h1>Articles tagged js</h1><div class="articles"><div class="article"><a href="/async-set-state/" class="article__title">In React setState is not "guaranteed" to be synchronous.</a><div class="article__meta">Daniel Nitsikopolous, 26 April 2016 </div><div class="article__content" data-view-highlight=""><p>I discovered recently that if you do something link this in react:</p>

<pre><code class="javascript">this.setState(reallyUseful: true);

if (this.state.reallyUseful) {
  this.doSomethingAmazing();
}
</code></pre>

<p>&hellip; it&rsquo;s not very useful and more often than not nothing amazing happens, just confusion and sadness.</p>

<p>This is because <code>setState</code> it turns out, is asynchronous. Of course most of the time you are doing your amazing things in your render function so everything is sweet but on the odd occasion that you need to pass that value elsewhere, eg: publishing an event, beware!</p>

<p>From the docs:</p>

<blockquote>
<p>setState() does not immediately mutate this.state but creates a pending state transition. Accessing this.state after calling this method can potentially return the existing value.<br>
There is no guarantee of synchronous operation of calls to setState and calls may be batched for performance gains.</p>
</blockquote>

<p>Read about <code>setState</code> here: <a href="https://facebook.github.io/react/docs/component-api.html">https://facebook.github.io/react/docs/component-api.html</a></p>
</div><a href="/tags/react" class="article__tag">react</a><a href="/tags/js" class="article__tag">js</a></div><div class="article"><a href="/using-viewloader-with-turbolinks/" class="article__title">Using viewloader with turbolinks</a><div class="article__meta">Daniel Nitsikopolous, 26 April 2016 </div><div class="article__content" data-view-highlight=""><p>When using viewloader with turbolinks, you want to make sure that viewloader executes once on the initial page load, once when the visitor reaches another page, and once when the visitor goes back in their browser (or forward for that matter).</p>

<p>To achieve this, get viewloader to execute on the <code>ready</code>, <code>page:load</code> and <code>page:restore</code> events:</p>

<pre><code class="javascript">$(document).on(&quot;ready page:load page:restore&quot;, function() {
  viewloader.execute(views);
});
</code></pre>

<p><code>page:restore</code> is fired by <a href="https://github.com/rails/turbolinks">turbolinks</a> whenever &ldquo;A cached body element has been loaded into the DOM&rdquo;.</p>
</div><a href="/tags/js" class="article__tag">js</a></div><div class="article"><a href="/namespaced-components/" class="article__title">Using namespaced components in React</a><div class="article__meta">Daniel Nitsikopolous, 26 April 2016 </div><div class="article__content" data-view-highlight=""><p>The last time I used React we had some pretty awkward workarounds for the fact that components couldn&rsquo;t be namespaced. I was pretty stoked to find this has been fixed now.</p>

<p>So if you have a component <code>myNavComponent</code> you can do:</p>

<pre><code>var NavComponent = React.createClass(...);
</code></pre>

<p>Define your sub-components as attributes:</p>

<pre><code>NavComponent.Next = React.createClass(...);
NavComponent.Prev = React.createClass(...);
NavComponent.Goto = React.createClass(...);
</code></pre>

<pre><code>var Nav = NavComponent;
</code></pre>

<p>And then use them as you would expect to in your JSX:</p>

<pre><code>&lt;Nav&gt;
  &lt;Nav.Prev /&gt;
  &lt;Nav.Goto /&gt;
  &lt;Nav.Next /&gt;
&lt;/Nav&gt;
</code></pre>

<p><a href="https://facebook.github.io/react/docs/jsx-in-depth.html#namespaced-components">https://facebook.github.io/react/docs/jsx-in-depth.html#namespaced-components</a></p>
</div><a href="/tags/react" class="article__tag">react</a><a href="/tags/js" class="article__tag">js</a></div></div></div></body></html>