<!DOCTYPE html><html><head><meta charset="utf-8" /><meta content="width=device-width, initial-scale=1.0" name="viewport" /><title>Formatting strings with C-like formatting codes. â€” Today Icelab Learnt</title><link href="/assets/public.css" rel="stylesheet" type="text/css" /><script src="/assets/public.js" type="text/javascript"></script></head><body><aside class="sidebar" id="sidebar"><a class="close-sidebar" href="#">Hide topics &rsaquo;</a><div class="sidebar-topic"><a href="/tags/react">react</a><span class="topic-count"> (<i>1</i>)</span></div><div class="sidebar-topic"><a href="/tags/js">js</a><span class="topic-count"> (<i>1</i>)</span></div><div class="sidebar-topic"><a href="/tags/ruby">ruby</a><span class="topic-count"> (<i>1</i>)</span></div><div class="sidebar-topic"><a href="/tags/aws">aws</a><span class="topic-count"> (<i>1</i>)</span></div><div class="sidebar-topic"><a href="/tags/accessibility">accessibility</a><span class="topic-count"> (<i>1</i>)</span></div><div class="sidebar-topic"><a href="/tags/social">social</a><span class="topic-count"> (<i>1</i>)</span></div><div class="sidebar-topic"><a href="/tags/performance">performance</a><span class="topic-count"> (<i>1</i>)</span></div><div class="sidebar-topic"><a href="/tags/git">git</a><span class="topic-count"> (<i>1</i>)</span></div><div class="sidebar-topic"><a href="/tags/css">css</a><span class="topic-count"> (<i>1</i>)</span></div><div class="sidebar-topic"><a href="/tags/rails">rails</a><span class="topic-count"> (<i>1</i>)</span></div><div class="sidebar-topic"><a href="/tags/slim">slim</a><span class="topic-count"> (<i>1</i>)</span></div><div class="sidebar-topic"><a href="/tags/seo">seo</a><span class="topic-count"> (<i>1</i>)</span></div><div class="sidebar-topic"><a href="/tags/postgres">postgres</a><span class="topic-count"> (<i>1</i>)</span></div><div class="sidebar-topic"><a href="/tags/debugging">debugging</a><span class="topic-count"> (<i>1</i>)</span></div><div class="sidebar-topic"><a href="/tags/testing">testing</a><span class="topic-count"> (<i>1</i>)</span></div><div class="sidebar-topic"><a href="/tags/processing">processing</a><span class="topic-count"> (<i>1</i>)</span></div></aside><div class="header"><a class="header__logo" href="http://www.icelab.com.au"></a><a href="/" class="header__til-text">Today Icelab Learnt</a><a class="header__view-topics open-sidebar" href="#sidebar"> &lsaquo; View topics</a></div><div class="container"><div class="article"><a href="/" class="article__title">Formatting strings with C-like formatting codes.</a><div class="article__meta">Daniel Nitsikopolous, 26 April 2016 </div><div class="article__content" data-view-highlight=""><p>I learnt this while putting together the report emails for Ticketscout.</p>

<p>Most of the time, regular string interpolation is all that we need when working with strings. Though sometimes we want a little more control over the formatting.</p>

<p>Let&rsquo;s say we have a set of numbers that we want to calculate the average for, then print that average to 1 decimal place.</p>

<pre><code class="ruby">FLOATS = [
  42.0,
  36.0,
  28.0,
  19.0,
  27.0,
  18.0,
  10.0
]
avg = FLOATS.reduce(0, :+) / FLOATS.size
&quot;Average is: #{avg}&quot; # =&gt; &quot;Average is: 25.714285714285715
&quot;Average is: #{avg.round(1)}&quot; # =&gt; &quot;Average is: 25.7
</code></pre>

<p>Normally, this is fine, but when working with some content, it may be nicer to use Ruby&rsquo;s String Format instead (especially if trying to format more complex numbers).</p>

<pre><code class="ruby">&quot;Average is %.1f&quot; % avg # =&gt; &quot;Average is 25.7&quot;
</code></pre>

<p>We can also make printing hashes a little prettier as well.</p>

<pre><code class="ruby">dog = {name: &#39;poppy&#39;,breed: &#39;labrador&#39;,colour: &#39;black&#39;}

&quot;This is #{dog[:name]}, she is a #{dog[:colour]} #{dog[:breed]}.&quot;
</code></pre>

<p>Becomes:</p>

<pre><code class="ruby">&quot;This is %{name}, she is a %{colour} %{breed}.&quot; % [dog]
</code></pre>

<p>Which, to me at least, reads a little nicer.</p>

<p><a href="http://apidock.com/ruby/Kernel/sprintf">Kernel::sprintf</a> has a more complete list of formatting strings.</p>
</div><a href="/tags/ruby" class="article__tag">ruby</a></div></div></body></html>