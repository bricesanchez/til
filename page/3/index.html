<!DOCTYPE html><html><head><meta charset="utf-8" /><title>Blog — Today Icelab Learnt</title><link href="/assets/public.css" rel="stylesheet" type="text/css" /><script src="/assets/public.js" type="text/javascript"></script></head><body><h1><a href="/">Today Icelab Learnt</a></h1><div class="blog"><h1><a href="/creating-and-pushing-a-tag/">Creating and pushing a git tag</a></h1><div class="content" data-view-highlight=""><p>If you&rsquo;re releasing gems (or any other kinds of packages), git tags are a useful way to track those release milestones in the source code repo.</p>

<p>Creating a tag is easy:</p>

<pre><code>git tag v1.0.0
</code></pre>

<p>So is pushing it to a remote:</p>

<pre><code>git push origin v1.0.0
</code></pre>

<p>The <em><a href="https://git-scm.com/book/en/v2/Git-Basics-Tagging">Git Basics - Tagging</a></em> section in the online git book is an easy-to-read overview of the various tag commands.</p>
</div><div class="tags"><a href="/tags/git">git</a></div><h1><a href="/string-format/">Formatting strings with C-like formatting codes.</a></h1><div class="content" data-view-highlight=""><p>I learnt this while putting together the report emails for Ticketscout.</p>

<p>Most of the time, regular string interpolation is all that we need when working with strings. Though sometimes we want a little more control over the formatting.</p>

<p>Let&rsquo;s say we have a set of numbers that we want to calculate the average for, then print that average to 1 decimal place.</p>

<pre><code class="ruby">FLOATS = [
  42.0,
  36.0,
  28.0,
  19.0,
  27.0,
  18.0,
  10.0
]
avg = FLOATS.reduce(0, :+) / FLOATS.size
&quot;Average is: #{avg}&quot; # =&gt; &quot;Average is: 25.714285714285715
&quot;Average is: #{avg.round(1)}&quot; # =&gt; &quot;Average is: 25.7
</code></pre>

<p>Normally, this is fine, but when working with some content, it may be nicer to use Ruby&rsquo;s String Format instead (especially if trying to format more complex numbers).</p>

<pre><code class="ruby">&quot;Average is %.1f&quot; % avg # =&gt; &quot;Average is 25.7&quot;
</code></pre>

<p>We can also make printing hashes a little prettier as well.</p>

<pre><code class="ruby">dog = {name: &#39;poppy&#39;,breed: &#39;labrador&#39;,colour: &#39;black&#39;}

&quot;This is #{dog[:name]}, she is a #{dog[:colour]} #{dog[:breed]}.&quot;
</code></pre>

<p>Becomes:</p>

<pre><code class="ruby">&quot;This is %{name}, she is a %{colour} %{breed}.&quot; % [dog]
</code></pre>

<p>Which, to me at least, reads a little nicer.</p>

<p><a href="http://apidock.com/ruby/Kernel/sprintf">Kernel::sprintf</a> has a more complete list of formatting strings.</p>
</div><div class="tags"><a href="/tags/ruby">ruby</a></div><h1><a href="/dynamic-classnames-in-slim/">Dynamic classnames in Slim</a></h1><div class="content" data-view-highlight=""><p>While glancing through one of Narinda’s pull-requests, I noticed she’d used a syntax for dynamic classnames in <a href="http://slim-lang.com/">Slim</a> that I had not seen before:</p>

<pre><code class="slim"># Aww yeah
- dynamic_classname = (truthy_test ? &#39;foo&#39; : &#39;bar&#39;)
.static-class-name-one class=[&quot;static-class-name-two&quot;, dynamic_classname]
  &#39; Foo or bar?
</code></pre>

<p>Slim will magically convert concatenate the classnames based on the truthiness of the <code>truthy_test</code>. Much more flexible (and less stinky) than the string concatenation I would usually use:</p>

<pre><code class="slim"># Eww
- dynamic_classname = (truthy_test ? &#39;foo&#39; : &#39;bar&#39;)
.static-class-name-one class=&quot;static-class-name-two #{dynamic_classname}&quot;
  &#39; Foo or bar?
</code></pre>
</div><div class="tags"><a href="/tags/slim">slim</a>, <a href="/tags/ruby">ruby</a></div><h1><a href="/dynamically-adding-class-methods/">Using `Class.new` for dynamically adding class methods</a></h1><div class="content" data-view-highlight=""><p>Say you&rsquo;re building a system where you want to dynamically add some class methods to a class at a particular moment, but without leaving them around for use on the class at other times.</p>

<p>This is pretty easy if you create an anonymous subclass whenever you need to use the special class methods:</p>

<pre><code class="ruby">module MyCustomFinders
  def special_finder
    where(something: &quot;is special&quot;)
  end
end

class MyThing &lt; ActiveRecord::Base
end

Class.new(MyThing).extend(MyCustomFinders).special_finder
</code></pre>
</div><div class="tags"><a href="/tags/ruby">ruby</a></div></div><a href="/page/2/">Previous page</a><p>Page 3 of 3</p><div class="tags"><h2>All tags</h2><a href="/tags/react">react</a><a href="/tags/js">js</a><a href="/tags/ruby">ruby</a><a href="/tags/aws">aws</a><a href="/tags/accessibility">accessibility</a><a href="/tags/social">social</a><a href="/tags/performance">performance</a><a href="/tags/git">git</a><a href="/tags/css">css</a><a href="/tags/rails">rails</a><a href="/tags/slim">slim</a><a href="/tags/seo">seo</a><a href="/tags/postgres">postgres</a><a href="/tags/debugging">debugging</a><a href="/tags/testing">testing</a><a href="/tags/processing">processing</a></div></body></html>