<!DOCTYPE html><html><head><meta charset="utf-8" /><meta content="width=device-width, initial-scale=1.0" name="viewport" /><title>In React setState is not "guaranteed" to be synchronous. â€” Today Icelab Learnt</title><link href="/assets/public.css" rel="stylesheet" type="text/css" /><script src="/assets/public.js" type="text/javascript"></script></head><body><aside class="sidebar" id="sidebar"><a class="close-sidebar" href="#">Hide topics &rsaquo;</a><div class="sidebar-topic"><a href="/tags/react">react</a><span class="topic-count"> (<i>1</i>)</span></div><div class="sidebar-topic"><a href="/tags/js">js</a><span class="topic-count"> (<i>1</i>)</span></div><div class="sidebar-topic"><a href="/tags/ruby">ruby</a><span class="topic-count"> (<i>1</i>)</span></div><div class="sidebar-topic"><a href="/tags/aws">aws</a><span class="topic-count"> (<i>1</i>)</span></div><div class="sidebar-topic"><a href="/tags/accessibility">accessibility</a><span class="topic-count"> (<i>1</i>)</span></div><div class="sidebar-topic"><a href="/tags/social">social</a><span class="topic-count"> (<i>1</i>)</span></div><div class="sidebar-topic"><a href="/tags/performance">performance</a><span class="topic-count"> (<i>1</i>)</span></div><div class="sidebar-topic"><a href="/tags/git">git</a><span class="topic-count"> (<i>1</i>)</span></div><div class="sidebar-topic"><a href="/tags/css">css</a><span class="topic-count"> (<i>1</i>)</span></div><div class="sidebar-topic"><a href="/tags/rails">rails</a><span class="topic-count"> (<i>1</i>)</span></div><div class="sidebar-topic"><a href="/tags/slim">slim</a><span class="topic-count"> (<i>1</i>)</span></div><div class="sidebar-topic"><a href="/tags/seo">seo</a><span class="topic-count"> (<i>1</i>)</span></div><div class="sidebar-topic"><a href="/tags/postgres">postgres</a><span class="topic-count"> (<i>1</i>)</span></div><div class="sidebar-topic"><a href="/tags/debugging">debugging</a><span class="topic-count"> (<i>1</i>)</span></div><div class="sidebar-topic"><a href="/tags/testing">testing</a><span class="topic-count"> (<i>1</i>)</span></div><div class="sidebar-topic"><a href="/tags/processing">processing</a><span class="topic-count"> (<i>1</i>)</span></div></aside><div class="header"><a class="header__logo" href="http://www.icelab.com.au"></a><a href="/" class="header__til-text">Today Icelab Learnt</a><a class="header__view-topics open-sidebar" href="#sidebar"> &lsaquo; View topics</a></div><div class="container"><div class="article"><a href="/" class="article__title">In React setState is not "guaranteed" to be synchronous.</a><div class="article__meta">Daniel Nitsikopolous, 26 April 2016 </div><div class="article__content" data-view-highlight=""><p>I discovered recently that if you do something link this in react:</p>

<pre><code class="javascript">this.setState(reallyUseful: true);

if (this.state.reallyUseful) {
  this.doSomethingAmazing();
}
</code></pre>

<p>&hellip; it&rsquo;s not very useful and more often than not nothing amazing happens, just confusion and sadness.</p>

<p>This is because <code>setState</code> it turns out, is asynchronous. Of course most of the time you are doing your amazing things in your render function so everything is sweet but on the odd occasion that you need to pass that value elsewhere, eg: publishing an event, beware!</p>

<p>From the docs:</p>

<blockquote>
<p>setState() does not immediately mutate this.state but creates a pending state transition. Accessing this.state after calling this method can potentially return the existing value.<br>
There is no guarantee of synchronous operation of calls to setState and calls may be batched for performance gains.</p>
</blockquote>

<p>Read about <code>setState</code> here: <a href="https://facebook.github.io/react/docs/component-api.html">https://facebook.github.io/react/docs/component-api.html</a></p>
</div><a href="/tags/react" class="article__tag">react</a><a href="/tags/js" class="article__tag">js</a></div></div></body></html>